
<!DOCTYPE HTML>
<html lang="" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>prepare the input Â· GitBook</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        
        
        
    
    <link rel="stylesheet" href="gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-search/search.css">
                
            
                
                <link rel="stylesheet" href="gitbook/gitbook-plugin-fontsettings/website.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="gitbook/images/favicon.ico" type="image/x-icon">

    
    
    <link rel="prev" href="MachineLearning.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="./">
            
                <a href="./">
            
                    
                    Introduction
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.1.1" data-path="installation.html">
            
                <a href="installation.html">
            
                    
                    Installation of Gitbook
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="MachineLearning.html">
            
                <a href="MachineLearning.html">
            
                    
                    Machine Learning
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.2.1" data-path="Prepare_csv.html">
            
                <a href="Prepare_csv.html">
            
                    
                    prepare the input
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="." >prepare the input</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="introduction">Introduction</h1>
<p>Uproot tutorial: <a href="https://masonproffitt.github.io/uproot-tutorial/aio.html" target="_blank">https://masonproffitt.github.io/uproot-tutorial/aio.html</a></p>
<pre><code class="lang-python"><span class="hljs-keyword">import</span> numpy <span class="hljs-keyword">as</span> np
<span class="hljs-keyword">import</span> pandas <span class="hljs-keyword">as</span> pd

<span class="hljs-comment"># The wierd zero problem is fixed with uproot4: https://github.com/scikit-hep/uproot/issues/513</span>
<span class="hljs-comment"># Therefore, we don&apos;t need to use uproot3</span>
<span class="hljs-keyword">import</span> uproot4
<span class="hljs-keyword">import</span> uproot
<span class="hljs-keyword">import</span> math
<span class="hljs-keyword">import</span> time
<span class="hljs-keyword">import</span> timeit

<span class="hljs-keyword">import</span> xgboost <span class="hljs-keyword">as</span> xgb

<span class="hljs-comment"># First XGBoost model for Pima Indians dataset</span>
<span class="hljs-keyword">from</span> numpy <span class="hljs-keyword">import</span> loadtxt
<span class="hljs-keyword">from</span> xgboost <span class="hljs-keyword">import</span> XGBClassifier
<span class="hljs-keyword">from</span> sklearn.model_selection <span class="hljs-keyword">import</span> train_test_split
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> accuracy_score
<span class="hljs-keyword">from</span> sklearn.metrics <span class="hljs-keyword">import</span> roc_curve,roc_auc_score,auc <span class="hljs-comment">#&#x7B97;auc&#x7528;</span>

<span class="hljs-keyword">import</span> matplotlib.pyplot <span class="hljs-keyword">as</span> plt
<span class="hljs-keyword">from</span> tqdm <span class="hljs-keyword">import</span> tqdm
<span class="hljs-keyword">import</span> random
</code></pre>
<pre><code class="lang-python"><span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randrange
<span class="hljs-keyword">from</span> random <span class="hljs-keyword">import</span> randint

x = [randint(<span class="hljs-number">1</span>, <span class="hljs-number">8</span>) <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, <span class="hljs-number">10</span>)]
print(x)
</code></pre>
<pre><code>[7, 8, 7, 4, 3, 2, 6, 3, 8, 4]
</code></pre><h1 id="validation-on-the-random">Validation on the random</h1>
<p>random integer with step: <a href="https://stackoverflow.com/questions/3996904/generate-random-integers-between-0-and-9" target="_blank">https://stackoverflow.com/questions/3996904/generate-random-integers-between-0-and-9</a>
count occurance of elements in array: <a href="https://stackoverflow.com/questions/21866625/counting-occurrences-of-items-in-an-array-python" target="_blank">https://stackoverflow.com/questions/21866625/counting-occurrences-of-items-in-an-array-python</a></p>
<pre><code class="lang-python">a = np.random.random((<span class="hljs-number">140000</span>))
<span class="hljs-comment"># print(a)</span>
dataframe = pd.DataFrame({<span class="hljs-string">&apos;Column1&apos;</span>: a})

dataframe[<span class="hljs-string">&apos;random&apos;</span>] = a

HiggsMassList = [<span class="hljs-number">400</span>,<span class="hljs-number">500</span>,<span class="hljs-number">600</span>,<span class="hljs-number">700</span>,<span class="hljs-number">800</span>,<span class="hljs-number">900</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">1100</span>]
x = [randrange(<span class="hljs-number">400</span>,<span class="hljs-number">1100</span>,<span class="hljs-number">100</span>) <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, dataframe.shape[<span class="hljs-number">0</span>])]

<span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> range(<span class="hljs-number">300</span>,<span class="hljs-number">1200</span>,<span class="hljs-number">100</span>):
    print(<span class="hljs-string">&quot;i = &quot;</span>, i, <span class="hljs-string">&quot; occurance = &quot;</span>, x.count(i))


plt.figure();
plt.hist(x,bins=np.linspace(<span class="hljs-number">0</span>,<span class="hljs-number">1200</span>,<span class="hljs-number">12</span>),
         histtype=<span class="hljs-string">&apos;step&apos;</span>,color=<span class="hljs-string">&apos;midnightblue&apos;</span>,label=<span class="hljs-string">&apos;signal&apos;</span>)
<span class="hljs-comment"># plt.hist(dataframe.mH,bins=np.linspace(400,1000,7),</span>
<span class="hljs-comment">#          histtype=&apos;step&apos;,color=&apos;firebrick&apos;,label=&apos;background&apos;)</span>

plt.xlabel(<span class="hljs-string">&apos;mH [GeV]&apos;</span>,fontsize=<span class="hljs-number">12</span>);
plt.ylabel(<span class="hljs-string">&apos;Events&apos;</span>,fontsize=<span class="hljs-number">12</span>);
plt.suptitle(<span class="hljs-string">&apos;mH [GeV]&apos;</span>, fontsize=<span class="hljs-number">20</span>)

plt.legend(frameon=<span class="hljs-keyword">False</span>);
</code></pre>
<pre><code>i =  300  occurance =  0
i =  400  occurance =  19596
i =  500  occurance =  19826
i =  600  occurance =  20117
i =  700  occurance =  20231
i =  800  occurance =  19966
i =  900  occurance =  20049
i =  1000  occurance =  20215
i =  1100  occurance =  0
</code></pre><p><img src="Prepare_csv_files/Prepare_csv_4_1.png" alt="png"></p>
<pre><code class="lang-python">pd.set_option(<span class="hljs-string">&apos;display.max_columns&apos;</span>, <span class="hljs-keyword">None</span>)
pd.set_option(<span class="hljs-string">&apos;display.max_rows&apos;</span>, <span class="hljs-keyword">None</span>)

<span class="hljs-comment"># fname = &quot;/lustre/umt3/user/metsai/hbsm4top/Offline/SM4t-212830_HBSM4tops_newBDT_syst_offv4_official/mc16a/2lss3lge1mv2c10j/4tops.root&quot;</span>
fname = <span class="hljs-string">&quot;/lustre/umt3/user/metsai/hbsm4top/Offline/SM4t-212830_HBSM4tops_newBDT_syst_offv4_official/mc16a/2lss3lge1mv2c10j/vh.root&quot;</span>
tree = uproot.open(fname)[<span class="hljs-string">&quot;nominal_Loose&quot;</span>]
EventID = uproot4.open(fname)[<span class="hljs-string">&quot;nominal_Loose&quot;</span>]

<span class="hljs-comment"># Event ID</span>
runNumber_arr = EventID[<span class="hljs-string">&quot;runNumber&quot;</span>].array(library=<span class="hljs-string">&quot;pd&quot;</span>)
mcChannelNumber_arr = EventID[<span class="hljs-string">&quot;mcChannelNumber&quot;</span>].array(library=<span class="hljs-string">&quot;pd&quot;</span>)
eventNumber_arr = EventID[<span class="hljs-string">&quot;eventNumber&quot;</span>].array(library=<span class="hljs-string">&quot;pd&quot;</span>)

AllVariables=[
            <span class="hljs-string">&apos;nJets&apos;</span>,
            <span class="hljs-string">&apos;nBTags_MV2c10_77&apos;</span>,
            <span class="hljs-string">&apos;mmm_Zveto&apos;</span>,
            <span class="hljs-string">&apos;emm_Zveto&apos;</span>,
            <span class="hljs-string">&apos;eem_Zveto&apos;</span>,
            <span class="hljs-string">&apos;eee_Zveto&apos;</span>,
            <span class="hljs-string">&apos;SSmm&apos;</span>,
            <span class="hljs-string">&apos;SSem_passECIDS&apos;</span>,
            <span class="hljs-string">&apos;SSee_passECIDS&apos;</span>,
            <span class="hljs-string">&apos;weight_normalise&apos;</span>,
            <span class="hljs-string">&apos;weight_mcweight_normalise&apos;</span>,
            <span class="hljs-string">&apos;weight_pileup&apos;</span>,
            <span class="hljs-string">&apos;weight_jvt&apos;</span>,
            <span class="hljs-string">&apos;mc_generator_weights&apos;</span>,
            <span class="hljs-string">&apos;weight_bTagSF_MV2c10_Continuous_CDI20190730&apos;</span>,
            <span class="hljs-string">&apos;weight_indiv_SF_EL_ChargeID&apos;</span>,
            <span class="hljs-string">&apos;weight_mc&apos;</span>,
            <span class="hljs-string">&apos;weight_leptonSF&apos;</span>,
            <span class="hljs-string">&apos;isSignalBkg&apos;</span>
            ]

variables = [<span class="hljs-string">&apos;met_met&apos;</span>,<span class="hljs-string">&apos;HT_all&apos;</span>,<span class="hljs-string">&apos;deltaR_ll_sum&apos;</span>,<span class="hljs-string">&apos;deltaR_ll_min&apos;</span>,<span class="hljs-string">&apos;SphericityJets&apos;</span>,<span class="hljs-string">&apos;SphericityXYJets&apos;</span>]
VariablesList = [item <span class="hljs-keyword">for</span> item <span class="hljs-keyword">in</span> variables]
<span class="hljs-keyword">for</span> var <span class="hljs-keyword">in</span> range(len(VariablesList)):
    AllVariables.append( VariablesList[var] );

dataframe = tree.pandas.df(AllVariables,flatten=<span class="hljs-keyword">False</span>)

dataframe[<span class="hljs-string">&quot;runNumber&quot;</span>] = runNumber_arr
dataframe[<span class="hljs-string">&quot;mcChannelNumber&quot;</span>] = mcChannelNumber_arr
dataframe[<span class="hljs-string">&quot;eventNumber&quot;</span>] = eventNumber_arr
<span class="hljs-comment"># print(dataframe)</span>

<span class="hljs-comment"># combine the weights into one and then we can drop all nesty weights</span>
<span class="hljs-comment"># dataframe[&apos;weight&apos;] = (36207.7*(dataframe.runNumber==284500)+44307.4*(dataframe.runNumber==300000)+(dataframe.runNumber==310000)*58450.1)*(1/138965.16)*dataframe.weight_normalise*dataframe.weight_mcweight_normalise.str[85]/dataframe.weight_mcweight_normalise.str[0]*dataframe.weight_pileup*dataframe.weight_jvt*dataframe.mc_generator_weights.str[85]*dataframe.weight_leptonSF*dataframe.weight_bTagSF_MV2c10_Continuous_CDI20190730*(dataframe.weight_indiv_SF_EL_ChargeID*(dataframe.SSee_passECIDS | dataframe.SSem_passECIDS)+1*(~(dataframe.SSee_passECIDS.astype(bool) | dataframe.SSem_passECIDS.astype(bool))).astype(int))</span>
dataframe[<span class="hljs-string">&apos;weight&apos;</span>] = (<span class="hljs-number">36207.7</span>*(dataframe.runNumber==<span class="hljs-number">284500</span>)+<span class="hljs-number">44307.4</span>*(dataframe.runNumber==<span class="hljs-number">300000</span>)+(dataframe.runNumber==<span class="hljs-number">310000</span>)*<span class="hljs-number">58450.1</span>)*(<span class="hljs-number">1</span>/<span class="hljs-number">138965.16</span>)*dataframe.weight_normalise*dataframe.weight_pileup*dataframe.weight_jvt*dataframe.weight_mc*dataframe.weight_leptonSF*dataframe.weight_bTagSF_MV2c10_Continuous_CDI20190730*(dataframe.weight_indiv_SF_EL_ChargeID*(dataframe.SSee_passECIDS | dataframe.SSem_passECIDS)+<span class="hljs-number">1</span>*(~(dataframe.SSee_passECIDS.astype(bool) | dataframe.SSem_passECIDS.astype(bool))).astype(int))

<span class="hljs-comment"># See reference: https://stackoverflow.com/questions/30327417/pandas-create-new-column-in-df-with-random-integers-from-range</span>
<span class="hljs-comment"># Randomly assign Higgs masses for non-BSM 4tops samples</span>
HiggsMassList = [<span class="hljs-number">400</span>,<span class="hljs-number">500</span>,<span class="hljs-number">600</span>,<span class="hljs-number">700</span>,<span class="hljs-number">800</span>,<span class="hljs-number">900</span>,<span class="hljs-number">1000</span>]

mH_randomArray = [randrange(<span class="hljs-number">400</span>,<span class="hljs-number">1100</span>,<span class="hljs-number">100</span>) <span class="hljs-keyword">for</span> p <span class="hljs-keyword">in</span> range(<span class="hljs-number">0</span>, dataframe.shape[<span class="hljs-number">0</span>])]
dataframe[<span class="hljs-string">&apos;mH&apos;</span>] = mH_randomArray

<span class="hljs-comment"># Insert the correct Higgs masses for BSM 4tops samples</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312440</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">400</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312441</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">500</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312442</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">600</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312443</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">700</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312444</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">800</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312445</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">900</span>
dataframe.loc[(dataframe[<span class="hljs-string">&apos;mcChannelNumber&apos;</span>] == <span class="hljs-number">312446</span>) , <span class="hljs-string">&apos;mH&apos;</span>] = <span class="hljs-number">1000</span>

print(dataframe)
<span class="hljs-comment"># Drop the variables for the nesty weights</span>
<span class="hljs-comment"># WeightVariables = [ &apos;weight_normalise&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_mcweight_normalise&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_pileup&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_jvt&apos;,</span>
<span class="hljs-comment">#                     &apos;mc_generator_weights&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_bTagSF_MV2c10_Continuous_CDI20190730&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_indiv_SF_EL_ChargeID&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_mc&apos;,</span>
<span class="hljs-comment">#                     &apos;weight_leptonSF&apos;]</span>
<span class="hljs-comment"># dataframe = dataframe.drop(columns=WeightVariables)</span>


<span class="hljs-comment"># # Apply the selections (two-fold validation, even and odd)</span>
<span class="hljs-comment"># # See the intro: https://pandas.pydata.org/pandas-docs/stable/getting_started/intro_tutorials/03_subset_data.html</span>
<span class="hljs-comment"># Presel_df = Preselection(dataframe)</span>

<span class="hljs-comment"># # After preselection</span>
<span class="hljs-comment"># Variables=[&apos;nJets&apos;,&apos;nBTags_MV2c10_77&apos;,&apos;mmm_Zveto&apos;,&apos;emm_Zveto&apos;,&apos;eem_Zveto&apos;,&apos;eee_Zveto&apos;,&apos;SSmm&apos;,&apos;SSem_passECIDS&apos;,&apos;SSee_passECIDS&apos;,&apos;runNumber&apos;]</span>
<span class="hljs-comment"># Presel_df = Presel_df.drop(columns=Variables)</span>
<span class="hljs-comment"># # https://stackoverflow.com/questions/25649429/how-to-swap-two-dataframe-columns</span>
<span class="hljs-comment"># DefaultVar = [&apos;eventNumber&apos;, &apos;isSignalBkg&apos;, &apos;weight&apos;, &apos;mH&apos;, &apos;mcChannelNumber&apos;]</span>
<span class="hljs-comment"># for var in range(len(DefaultVar)):</span>
<span class="hljs-comment">#     VariablesList.append( DefaultVar[var] );</span>
<span class="hljs-comment"># Presel_df=Presel_df.reindex(columns=VariablesList)</span>

<span class="hljs-comment"># # print(&quot;Presel_df = \n\n&quot;, Presel_df)</span>

<span class="hljs-comment"># # outputfolder = args.outputfolder</span>
<span class="hljs-comment"># # outputfile = args.outputfile</span>
<span class="hljs-comment"># # Presel_df.to_csv(outputfolder+outputfile)</span>
</code></pre>
<pre><code>       nJets  nBTags_MV2c10_77  mmm_Zveto  emm_Zveto  eem_Zveto  eee_Zveto  \
entry                                                                        
0          2                 1          0          0          0          0   
1          1                 1          0          0          0          0   
2          2                 1          0          0          0          0   
3          1                 1          0          0          0          0   
4          1                 1          0          0          0          0   
5          1                 1          0          0          0          0   
6          4                 1          0          0          0          0   
7          1                 1          0          0          0          0   
8          2                 1          0          0          0          0   
9          1                 1          0          0          0          0   
10         1                 1          0          0          0          0   
11         1                 1          0          0          0          0   
12         2                 2          0          0          0          0   
13         5                 2          0          0          0          0   
14         2                 1          0          0          0          0   
15         2                 1          0          0          0          0   
16         3                 1          0          0          0          0   
17         1                 1          0          0          0          0   
18         2                 1          0          0          0          0   
19         2                 1          0          0          0          0   
20         2                 1          0          0          0          0   

       SSmm  SSem_passECIDS  SSee_passECIDS  weight_normalise  \
entry                                                           
0         0               1               0          0.000014   
1         0               1               0          0.000014   
2         0               0               1          0.000014   
3         0               1               0          0.000014   
4         1               0               0          0.000014   
5         0               1               0          0.000014   
6         0               1               0          0.000014   
7         0               1               0          0.000014   
8         0               1               0          0.000014   
9         1               0               0          0.000014   
10        0               0               1          0.000014   
11        0               1               0          0.000014   
12        0               1               0          0.000009   
13        0               0               0          0.000009   
14        0               0               0          0.000009   
15        0               0               0          0.000009   
16        0               1               0          0.000009   
17        0               0               0          0.000009   
18        0               0               1          0.000009   
19        1               0               0          0.000009   
20        0               1               0          0.000009   

      weight_mcweight_normalise  weight_pileup  weight_jvt  \
entry                                                        
0               [1.3800496e-05]       1.040258    0.966197   
1               [1.3800496e-05]       1.040258    0.994103   
2               [1.3800496e-05]       1.183654    0.977157   
3               [1.3800496e-05]       0.651527    0.982953   
4               [1.3800496e-05]       1.032648    0.994103   
5               [1.3800496e-05]       1.008581    1.000000   
6               [1.3800496e-05]       0.742007    0.943627   
7               [1.3800496e-05]       0.985139    1.000000   
8               [1.3800496e-05]       1.100541    0.989936   
9               [1.3800496e-05]       1.020371    0.994103   
10              [1.3800496e-05]       1.033192    1.000000   
11              [1.3800496e-05]       1.100541    0.982953   
12               [8.696023e-06]       0.835885    0.984098   
13               [8.696023e-06]       0.878693    0.924875   
14               [8.696023e-06]       1.020371    0.988241   
15               [8.696023e-06]       1.116819    0.977157   
16               [8.696023e-06]       1.008581    0.982413   
17               [8.696023e-06]       1.033192    0.968623   
18               [8.696023e-06]       1.189838    0.988241   
19               [8.696023e-06]       0.001000    0.952111   
20               [8.696023e-06]       1.020371    0.977157   

      mc_generator_weights  weight_bTagSF_MV2c10_Continuous_CDI20190730  \
entry                                                                     
0                    [1.0]                                     0.959040   
1                    [1.0]                                     1.053800   
2                    [1.0]                                     1.076922   
3                    [1.0]                                     1.015300   
4                    [1.0]                                     0.952200   
5                    [1.0]                                     0.816600   
6                    [1.0]                                     0.949346   
7                    [1.0]                                     0.960000   
8                    [1.0]                                     0.955044   
9                    [1.0]                                     0.952200   
10                   [1.0]                                     1.078000   
11                   [1.0]                                     1.218800   
12                   [1.0]                                     1.030568   
13                   [1.0]                                     0.947552   
14                   [1.0]                                     0.955044   
15                   [1.0]                                     0.979605   
16                   [1.0]                                     0.988021   
17                   [1.0]                                     1.218800   
18                   [1.0]                                     0.951248   
19                   [1.0]                                     0.942202   
20                   [1.0]                                     0.989010   

       weight_indiv_SF_EL_ChargeID  weight_mc  weight_leptonSF  isSignalBkg  \
entry                                                                         
0                         0.999450        1.0         0.964671          0.0   
1                         1.000270        1.0         0.941634          0.0   
2                         1.006971        1.0         0.941928          0.0   
3                         1.002110        1.0         0.882376          0.0   
4                         1.000000        1.0         0.966403          0.0   
5                         0.997060        1.0         0.967876          0.0   
6                         1.001870        1.0         0.950448          0.0   
7                         1.002010        1.0         0.968685          0.0   
8                         1.004410        1.0         0.952443          0.0   
9                         1.000000        1.0         0.978094          0.0   
10                        0.992739        1.0         0.919115          0.0   
11                        1.000110        1.0         0.929638          0.0   
12                        0.999790        1.0         0.959045          0.0   
13                        1.000830        1.0         0.936170          0.0   
14                        1.000000        1.0         0.977185          0.0   
15                        1.000830        1.0         0.967754          0.0   
16                        1.002160        1.0         0.978807          0.0   
17                        0.999450        1.0         0.971939          0.0   
18                        1.002100        1.0         0.928446          0.0   
19                        1.000000        1.0         0.990340          0.0   
20                        1.002810        1.0         0.979786          0.0   

             met_met         HT_all  deltaR_ll_sum  deltaR_ll_min  \
entry                                                               
0       74186.578125  173451.546875       0.400867       0.400867   
1       36557.207031  141680.796875       1.575788       1.575788   
2       61294.617188  182865.125000       2.752374       2.752374   
3       25703.498047  122770.031250       2.233053       2.233053   
4       14651.169922  331648.281250       2.764009       2.764009   
5      144766.921875  772476.437500       3.161644       3.161644   
6       39578.253906  355300.687500       2.510466       2.510466   
7       63732.730469  183103.718750       2.871073       2.871073   
8      147425.531250  285612.000000       3.185472       3.185472   
9       31118.167969  288899.812500       2.514630       2.514630   
10      50776.828125  103528.226562       0.976394       0.976394   
11      40305.187500  170044.453125       3.099617       3.099617   
12      35688.011719  168093.406250       2.624021       2.624021   
13       3404.940674  374887.312500       4.392360       0.575382   
14      37120.355469  317001.093750       4.522669       1.014232   
15      67258.757812  253466.375000       4.895865       1.174553   
16      32200.925781  346207.500000       2.951761       2.951761   
17      30575.998047  136152.234375       7.825338       2.508261   
18      54279.691406  340581.656250       3.551888       3.551888   
19      27212.130859  186420.250000       2.602618       2.602618   
20      31645.402344  297974.625000       2.633357       2.633357   

       SphericityJets  SphericityXYJets  runNumber  mcChannelNumber  \
entry                                                                 
0        5.555992e-01      6.548822e-02     284500           342284   
1        2.932404e-09      3.602117e-09     284500           342284   
2        2.500652e-01      1.646751e-01     284500           342284   
3        9.312350e-08      0.000000e+00     284500           342284   
4        5.792961e-08      4.308819e-08     284500           342284   
5       -3.451195e-09      0.000000e+00     284500           342284   
6        6.630414e-01      8.663917e-01     284500           342284   
7       -7.222606e-08      4.427803e-08     284500           342284   
8        1.456086e-02      1.091781e-01     284500           342284   
9       -4.516754e-08     -1.072281e-08     284500           342284   
10       1.113969e-08      0.000000e+00     284500           342284   
11       1.331109e-09      2.324247e-10     284500           342284   
12       4.664220e-01      5.765725e-01     284500           342285   
13       2.252924e-01      2.183652e-01     284500           342285   
14       8.033020e-02      3.899547e-01     284500           342285   
15       2.608316e-01      4.143496e-01     284500           342285   
16       1.702753e-01      4.281419e-02     284500           342285   
17      -1.110951e-09      0.000000e+00     284500           342285   
18       1.438134e-01      2.408370e-01     284500           342285   
19       4.599734e-02      8.743482e-01     284500           342285   
20       1.130502e-02      2.307921e-01     284500           342285   

       eventNumber        weight   mH  
entry                                  
0            11189  3.341745e-06  800  
1            21261  3.690793e-06  700  
2            22784  4.248130e-06  500  
3            20781  2.067373e-06  700  
4            34019  3.396720e-06  400  
5            44801  2.857926e-06  600  
6            53787  2.275948e-06  500  
7            75678  3.300751e-06  500  
8            83561  3.579122e-06  700  
9            90235  3.396939e-06  700  
10           99431  3.654217e-06  900  
11           36911  4.407808e-06  800  
12           15333  1.841727e-06  600  
13           26871  1.633403e-06  800  
14           25366  2.132242e-06  500  
15           78823  2.344112e-06  800  
16           80141  2.175810e-06  700  
17           51118  2.686104e-06  700  
18           96355  2.357913e-06  900  
19           12052  2.013606e-09  600  
20           85423  2.195272e-06  800  
</code></pre><pre><code class="lang-python">

</code></pre>
<pre><code class="lang-python">plt.figure();
plt.hist(Presel_df.mH[Presel_df.isSignalBkg == <span class="hljs-number">1</span>],bins=np.linspace(<span class="hljs-number">400</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">7</span>),
         histtype=<span class="hljs-string">&apos;step&apos;</span>,color=<span class="hljs-string">&apos;midnightblue&apos;</span>,label=<span class="hljs-string">&apos;signal&apos;</span>);
plt.hist(Presel_df.mH[Presel_df.isSignalBkg == <span class="hljs-number">0</span>],bins=np.linspace(<span class="hljs-number">400</span>,<span class="hljs-number">1000</span>,<span class="hljs-number">7</span>),
         histtype=<span class="hljs-string">&apos;step&apos;</span>,color=<span class="hljs-string">&apos;firebrick&apos;</span>,label=<span class="hljs-string">&apos;background&apos;</span>);

plt.xlabel(<span class="hljs-string">&apos;mH [GeV]&apos;</span>,fontsize=<span class="hljs-number">12</span>);
plt.ylabel(<span class="hljs-string">&apos;Events&apos;</span>,fontsize=<span class="hljs-number">12</span>);
plt.suptitle(<span class="hljs-string">&apos;mH [GeV]&apos;</span>, fontsize=<span class="hljs-number">20</span>)

plt.legend(frameon=<span class="hljs-keyword">False</span>);
</code></pre>

                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="MachineLearning.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page: Machine Learning">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"prepare the input","level":"1.2.1","depth":2,"previous":{"title":"Machine Learning","level":"1.2","depth":1,"path":"MachineLearning.md","ref":"MachineLearning.md","articles":[{"title":"prepare the input","level":"1.2.1","depth":2,"path":"Prepare_csv.md","ref":"Prepare_csv.md","articles":[]}]},"dir":"ltr"},"config":{"gitbook":"*","theme":"default","variables":{},"plugins":[],"pluginsConfig":{"highlight":{},"search":{},"lunr":{"maxIndexSize":1000000,"ignoreSpecialCharacters":false},"sharing":{"facebook":true,"twitter":true,"google":false,"weibo":false,"instapaper":false,"vk":false,"all":["facebook","google","twitter","weibo","instapaper"]},"fontsettings":{"theme":"white","family":"sans","size":2},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"}},"file":{"path":"Prepare_csv.md","mtime":"2020-08-06T17:12:09.137Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2020-08-06T17:15:46.025Z"},"basePath":".","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="gitbook/gitbook.js"></script>
    <script src="gitbook/theme.js"></script>
    
        
        <script src="gitbook/gitbook-plugin-search/search-engine.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-search/search.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/lunr.min.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-lunr/search-lunr.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-sharing/buttons.js"></script>
        
    
        
        <script src="gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    

    </body>
</html>

